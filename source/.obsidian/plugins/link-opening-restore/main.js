/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var u=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var P=(i,t)=>{for(var e in t)u(i,e,{get:t[e],enumerable:!0})},x=(i,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of g(t))!y.call(i,n)&&n!==e&&u(i,n,{get:()=>t[n],enumerable:!(o=v(t,n))||o.enumerable});return i};var A=i=>x(u({},"__esModule",{value:!0}),i);var k=(i,t,e)=>{if(!t.has(i))throw TypeError("Cannot "+e)};var r=(i,t,e)=>(k(i,t,"read from private field"),e?e.call(i):t.get(i)),a=(i,t,e)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,e)};var c=(i,t,e)=>(k(i,t,"access private method"),e);var C={};P(C,{default:()=>h});module.exports=A(C);var w=require("obsidian");var s,l,E,p,m,f,d,L,h=class extends w.Plugin{constructor(){super(...arguments);a(this,l);a(this,m);a(this,d);a(this,s,new Set);a(this,p,e=>{let o=e.target;if(!(o.tagName!=="A"&&!o.classList.contains("cm-hmd-internal-link")&&!o.classList.contains("cm-link")&&!o.classList.contains("cm-url"))){if(e.shiftKey&&e.ctrlKey){this.app.workspace.openPopoutLeaf().openFile(this.app.metadataCache.getFirstLinkpathDest(decodeURIComponent(o.textContent),"")),e.preventDefault(),e.stopPropagation();return}e.ctrlKey||(e.preventDefault(),e.stopPropagation())}})}onload(){this.app.workspace.on("file-open",()=>{c(this,l,E).call(this)}),c(this,l,E).call(this)}onunload(){r(this,s).forEach(e=>{let o=e.view.containerEl.querySelector(".cm-content");c(this,d,L).call(this,o)})}};s=new WeakMap,l=new WeakSet,E=function(){this.app.workspace.iterateAllLeaves(e=>{if(e.view.getViewType()==="markdown"&&!r(this,s).has(e)){r(this,s).add(e);let o=e.view.containerEl.querySelector(".cm-content");if(!o)return;c(this,m,f).call(this,o);let n=e.view.onunload;e.view.onunload=()=>{r(this,s).delete(e),c(this,d,L).call(this,o),n(),e.view.onunload=n}}})},p=new WeakMap,m=new WeakSet,f=function(e){e.addEventListener("click",r(this,p),{capture:!0})},d=new WeakSet,L=function(e){e.removeEventListener("click",r(this,p),{capture:!0})};

/* nosourcemap */